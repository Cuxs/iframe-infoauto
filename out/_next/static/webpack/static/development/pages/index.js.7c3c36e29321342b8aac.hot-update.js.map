{"version":3,"file":"static/webpack/static/development/pages/index.js.7c3c36e29321342b8aac.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import '../sass/main.scss';\nimport makeAnimated from 'react-select/animated';\nimport Select from 'react-select'\nimport { Query } from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport { ApolloProvider } from \"react-apollo\";\nimport { AllBrandsQuery, GroupsQuery, ModelsQuery, YearsQuery, DetailsQuery} from '../queries/tauto.queries';\nimport { prepareArraySelect, thousands } from '../helpers';\nimport CarDetail from '../components/carDetail';\n\nconst customTheme=(theme)=>({\n  ...theme,\n  colors: {\n    ...theme.colors,\n    primary25: '#F0F2F5',\n    primary: 'black',\n  },\n})\nconst customStyles = {\n  container: (base) => ({\n    ...base,\n    textAlign: 'center',\n    width: '250px'\n  }),\n  input: (base) => ({\n    ...base,\n  }),\n  valueContainer: (base) => ({\n    ...base,\n    minHeight: '50px',\n  }),\n  control: (base) => ({\n    ...base,\n    borderRadius: '0px',\n    maxWidth: '250px',\n  }),\n  menu: (base)=>({\n    ...base,\n    borderRadius:'0px',\n  })\n}\n\nexport default class PricesForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { brand: '', group: '', model:'12285474', year: '', price: '' };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  client = new ApolloClient({\n    uri: \"https://api.miautohoy.com/graphql\"\n  });\n  handleChange(field, value) {\n    this.setState({ [field]: value });\n  }\n\n  handleSubmit(event) {\n    alert('Your favorite flavor is: ' + this.state.value);\n    event.preventDefault();\n  }\n  render() {\n    return (\n      <ApolloProvider client={this.client}>\n        <div className=\"container text-center form-container\">\n          <Query\n            query={AllBrandsQuery}\n          >\n            {({ loading, error, data }) => {\n              if (error) return <p>Error :(</p>;\n\n              return <form onSubmit={this.handleSubmit}>\n                <label className=\"mb-4 text-white\">\n                  Completa los datos para obtener el precio del vehículo.\n                  </label>\n                <div className=\"d-flex justify-content-center\">\n                  <Select\n                    onChange={({ value }) => this.handleChange('brand', value)}\n                    placeholder=\"Selecciona la marca\"\n                    isLoading={loading}\n                    theme={customTheme}\n                    components={makeAnimated()}\n                    options={prepareArraySelect(data.AllBrands, 'ta3_nmarc', 'ta3_marca')} styles={customStyles} />\n                </div>\n                <Query query={GroupsQuery} skip={!this.state.brand} variables={{ gru_nmarc: this.state.brand }}>\n                  {({ loading, error, data }) => {\n                    if (error) return <p>Error :(</p>;\n                    return <div className=\"d-flex justify-content-center mt-4\">\n                      <Select\n                        onChange={({ value }) => this.handleChange('group', value)}\n                        placeholder=\"Selecciona el grupo\"\n                        isLoading={loading}\n                        theme={customTheme}\n                        components={makeAnimated()}\n                        options={data ? prepareArraySelect(data.Group, 'gru_cgrup', 'gru_ngrup') : []} styles={customStyles} />\n                    </div>\n                  }}\n                </Query>\n                <Query query={ModelsQuery} skip={!this.state.group} variables={{ ta3_nmarc: this.state.brand, ta3_cgrup: this.state.group }}>\n                  {({ loading, error, data }) => {\n                    if (error) return <p>Error :(</p>;\n                    return <div className=\"d-flex justify-content-center mt-4\">\n                      <Select\n                        onChange={({ value }) => this.handleChange('model', value)}\n                        placeholder=\"Selecciona el Modelo\"\n                        components={makeAnimated()}\n                        isLoading={loading}\n                        theme={customTheme}\n                        options={data ? prepareArraySelect(data.Models, 'ta3_codia', 'ta3_model') : []} styles={customStyles} />\n                    </div>\n                  }}\n                </Query>\n                <Query query={YearsQuery} skip={!this.state.model} variables={{ ta3_codia: this.state.model }}>\n                  {({ loading, error, data }) => {\n                    if (error) return <p>Error :(</p>;\n                    return <div className=\"d-flex justify-content-center mt-4\">\n                      <Select\n                        onChange={({ value }) => this.handleChange('price', value)}\n                        placeholder=\"Selecciona el Año\"\n                        components={makeAnimated()}\n                        isLoading={loading}\n                        theme={customTheme}\n                        options={data ? prepareArraySelect(data.Price, 'precio', 'anio') : []} styles={customStyles} />\n                    </div>\n                  }}\n                </Query>\n                  {this.state.price!== '' &&<h2 className=\"text-white mt-5\">{`Precio sugerido: $${thousands(this.state.price)}`}</h2>}\n                  <Query query={DetailsQuery} skip={!this.state.model} variables={{ ta3_codia: this.state.model }}>\n                  {({ loading, error, data }) => {\n                    if (error) return <p>Error :(</p>;\n                    return <div className=\"d-flex justify-content-around mt-4\">\n                      <CarDetail data={data} />\n                      </div>\n                  }}\n                </Query>\n              </form>\n            }}\n          </Query>\n        </div>\n      </ApolloProvider>\n\n    );\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AAHA;AAFA;AAAA;AACA;AAOA;AACA;AAAA;AAEA;AACA;AAHA;AAAA;AAKA;AAAA;AAAA;AAGA;AAAA;AAEA;AAFA;AAAA;AAIA;AAAA;AAEA;AACA;AAHA;AAAA;AAKA;AAAA;AAEA;AAFA;AAAA;AAlBA;AACA;AAuBA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAQA;AADA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AALA;AAMA;AACA;;;AAGA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAMA;;;;AApGA;AACA;;;;;A","sourceRoot":""}